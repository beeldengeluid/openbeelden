<?xml version="1.0" ?>
<!DOCTYPE mainFilter SYSTEM "http://www.mmbase.org/dtd/mediafilter_1_0.dtd" [
 <!ENTITY % format SYSTEM "http://www.mmbase.org/dtd/formatcomparator_1_0.dtd" >
 <!ENTITY % dimension SYSTEM "http://www.mmbase.org/dtd/dimensioncomparator_1_0.dtd" >
 <!ENTITY % bitrate SYSTEM  "http://www.mmbase.org/dtt/clientbitratefilter_1_0.dtd" >
 <!ENTITY % configSubTags "preferredSource|preferredDimension|bitrates">
 %format;
 %dimension;
 %bitrate;
]>

<mainFilter>
  <chain>
    <filter>org.mmbase.applications.media.filters.AvailableSorter</filter>
    <filter id="format">org.mmbase.applications.media.filters.ServerFormatSorter</filter>
    <filter id="dimensions">org.mmbase.applications.media.filters.ServerDimensionSorter</filter>
    <filter id="bitrate">org.mmbase.applications.media.filters.BitrateLabeler</filter>
  </chain>

  <filterConfigs>
    <config filter="bitrate">
      <bitrates>
        <bitrate name="lo" min="-1" max="800000" />
        <bitrate name="hi" min="800001" />
      </bitrates>
    </config>
    <config filter="format">
      <preferredSource>
        <source format="mp3" />
        <source format="ogv" />
        <source format="ogg" />
        <source format="mp4" />
        <source format="avi" />
      </preferredSource>
    </config>
    <config filter="dimensions">
      <preferredDimension>
        <dimension x="320" y="240" />
      </preferredDimension>
    </config>

  </filterConfigs>

</mainFilter>
